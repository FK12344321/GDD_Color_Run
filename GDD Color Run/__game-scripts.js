var MoveForward=pc.createScript("moveForward");MoveForward.attributes.add("speed",{type:"number",default:.1}),MoveForward.attributes.add("textElement",{type:"entity"}),MoveForward.prototype.initialize=function(){},MoveForward.prototype.update=function(t){this.entity.translate(0,0,this.speed*t)};var ColorManager=pc.createScript("colorManager");ColorManager.attributes.add("player",{type:"entity"}),ColorManager.attributes.add("blueButton",{type:"entity"}),ColorManager.attributes.add("greenButton",{type:"entity"}),ColorManager.attributes.add("redButton",{type:"entity"}),ColorManager.attributes.add("redMaterial",{type:"asset",assetType:"material"}),ColorManager.attributes.add("greenMaterial",{type:"asset",assetType:"material"}),ColorManager.attributes.add("blueMaterial",{type:"asset",assetType:"material"}),ColorManager.attributes.add("pinkMaterial",{type:"asset",assetType:"material"}),ColorManager.attributes.add("yellowMaterial",{type:"asset",assetType:"material"}),ColorManager.attributes.add("cyanMaterial",{type:"asset",assetType:"material"}),ColorManager.attributes.add("blackMaterial",{type:"asset",assetType:"material"}),ColorManager.attributes.add("textElement",{type:"entity"});var bluePressed=!1,redPressed=!1,greenPressed=!1;ColorManager.prototype.recolor=function(e){"blue"===e&&(this.player.model.meshInstances[0].material=this.blueMaterial.resource),"red"===e&&(this.player.model.meshInstances[0].material=this.redMaterial.resource),"green"===e&&(this.player.model.meshInstances[0].material=this.greenMaterial.resource)},ColorManager.prototype.initialize=function(){this.blueButton.element.on("touchstart",(function(){bluePressed=!0,this.app.fire("interface:changeTexture",redPressed,bluePressed,greenPressed)}),this),this.greenButton.element.on("touchstart",(function(){greenPressed=!0,this.app.fire("interface:changeTexture",redPressed,bluePressed,greenPressed)}),this),this.redButton.element.on("touchstart",(function(){redPressed=!0,this.app.fire("interface:changeTexture",redPressed,bluePressed,greenPressed)}),this),this.app.touch&&(this.app.touch.on(pc.EVENT_TOUCHSTART,(function(e){e.event.preventDefault()}),this),this.app.touch.on(pc.EVENT_TOUCHMOVE,(function(e){if(!(e.touches.length>1)){var r=e.touches[0].x,t=e.touches[0].y;r>107&&r<160&&t<520&&t>482?(greenPressed=!0,this.app.fire("interface:changeTexture",redPressed,bluePressed,greenPressed)):r>164&&r<213&&t<612&&t>560?(redPressed=!0,this.app.fire("interface:changeTexture",redPressed,bluePressed,greenPressed)):r>214&&r<270&&t<512&&t>482&&(bluePressed=!0,this.app.fire("interface:changeTexture",redPressed,bluePressed,greenPressed)),e.event.preventDefault()}}),this),this.app.touch.on(pc.EVENT_TOUCHEND,(function(){var e=null;if(!(event.touches.length>1)){bluePressed||redPressed||!greenPressed?bluePressed||!redPressed||greenPressed?!bluePressed||redPressed||greenPressed?bluePressed&&redPressed&&!greenPressed?e=this.pinkMaterial:!bluePressed&&redPressed&&greenPressed?e=this.yellowMaterial:bluePressed&&!redPressed&&greenPressed?e=this.cyanMaterial:bluePressed&&redPressed&&greenPressed&&(e=this.blackMaterial):e=this.blueMaterial:e=this.redMaterial:e=this.greenMaterial,null!==e&&(this.player.model.meshInstances[0].material=e.resource);for(var r=this.app.root.findByTag("crowdMembers"),t=0;t<r.length;t++)null!==e&&(r[t].model.meshInstances[0].material=e.resource);bluePressed=!1,redPressed=!1,greenPressed=!1,this.app.fire("interface:changeTexture",redPressed,bluePressed,greenPressed)}}),this))},ColorManager.prototype.update=function(e){this.app.touch};var active,CrowdManager=pc.createScript("crowdManager");CrowdManager.attributes.add("player",{type:"entity"}),CrowdManager.attributes.add("textElement",{type:"entity"}),CrowdManager.attributes.add("crowdMember",{type:"entity"}),CrowdManager.prototype.initialize=function(){active=!1,this.entity.collision.on("collisionend",(function(){active=!0;var t=this.crowdMember.clone(),e=this.entity.getPosition(),i=this.player.getPosition();t.setPosition(-i.x+e.x,-i.y+e.y,-i.z+e.z),t.enabled=!0,this.player.addChild(t),this.entity.enabled=!1}),this)},CrowdManager.prototype.update=function(t){};var ChangeTexture=pc.createScript("changeTexture");ChangeTexture.attributes.add("blue_red",{type:"asset",assetType:"texture"}),ChangeTexture.attributes.add("green_blue",{type:"asset",assetType:"texture"}),ChangeTexture.attributes.add("green_red",{type:"asset",assetType:"texture"}),ChangeTexture.attributes.add("green_blue_red",{type:"asset",assetType:"texture"}),ChangeTexture.attributes.add("red",{type:"asset",assetType:"texture"}),ChangeTexture.attributes.add("green",{type:"asset",assetType:"texture"}),ChangeTexture.attributes.add("blue",{type:"asset",assetType:"texture"}),ChangeTexture.attributes.add("full",{type:"asset",assetType:"texture"}),ChangeTexture.prototype.initialize=function(){this.app.on("interface:changeTexture",(function(){var e;greenPressed||bluePressed||redPressed?greenPressed||bluePressed||!redPressed?greenPressed||!bluePressed||redPressed?!greenPressed&&bluePressed&&redPressed?e=this.green:!greenPressed||bluePressed||redPressed?greenPressed&&!bluePressed&&redPressed?e=this.blue:greenPressed&&bluePressed&&!redPressed?e=this.red:greenPressed&&bluePressed&&redPressed&&(e=this.full):e=this.blue_red:e=this.green_red:e=this.green_blue:e=this.green_blue_red,this.entity.element.textureAsset=e}),this)},ChangeTexture.prototype.update=function(e){};